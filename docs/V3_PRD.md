# ThreadThis V3 — Product Requirements Document

**Продукт:** ThreadThis (threadthis.day)
**Версия:** 3.0
**Дата:** 2026-02-07
**Статус:** Draft

---

## 1. Обзор версии

V3 — визуальный и брендинговый апгрейд ThreadThis. Фокус на **идентичности продукта**: яркий, запоминающийся UI с динамической цветовой схемой, анимациями и полным набором legal-страниц для серьёзного веб-присутствия.

### Ключевые цели:
- Threads как основная платформа (первая таба)
- Favicon для узнаваемости в браузере
- Динамическая цветовая тема, привязанная к выбранной платформе
- Subtle-анимации для «живого» ощущения
- Legal compliance (Privacy Policy, Terms of Service)

---

## 2. Функциональные требования

### 2.1. Переключение приоритета табов

**Текущее состояние:** LinkedIn — первая (активная) таба, Threads — вторая.

**Требования V3:**
- Threads становится **первой и активной по умолчанию** табой
- LinkedIn становится второй табой
- При загрузке страницы: Threads-превью видимый, LinkedIn-превью скрыт
- Порядок кнопок в tab switcher: `[Threads] [LinkedIn]`
- Character counter при загрузке: формат Threads (без лимита)
- Все `init()` функции инициализируются для Threads-режима

**Технические изменения:**
- HTML: поменять порядок кнопок в `.tab-switcher`
- HTML: класс `active` на кнопке Threads, убрать с LinkedIn
- HTML: класс `hidden` на `.linkedin-preview`, убрать с `.threads-preview`
- JS: `currentPlatform` инициализировать как `'threads'` вместо `'linkedin'`
- CSS: начальные стили (accent color) — Threads

---

### 2.2. Favicon (иконка браузера)

**Требования:**
- Добавить favicon для отображения в табах браузера
- Формат: SVG (основной) + PNG fallback (16x16, 32x32, 180x180 для Apple Touch)
- Дизайн: **определяется отдельно** (совместная работа с пользователем)
- Файлы размещаются в корне проекта или в `images/favicon/`

**Технические изменения:**
- Добавить в `<head>` тег `<link rel="icon">`
- Добавить `<link rel="apple-touch-icon">`
- Опционально: `<meta name="theme-color">` для мобильных браузеров

**Примечание:** Конкретный дизайн favicon будет выбран в отдельной задаче. PRD описывает техническую реализацию, а не визуал.

---

### 2.3. Динамическая цветовая тема

**Концепция:** Цветовая схема UI меняется в зависимости от выбранной платформы. Это создаёт эффект погружения — пользователь визуально «чувствует», с какой соцсетью работает.

#### 2.3.1. LinkedIn-тема

**Палитра:**
| Элемент | Цвет | Код |
|---------|-------|-----|
| Accent primary | LinkedIn Blue | `#0A66C2` |
| Accent light | Light Blue | `#D0E8FF` |
| Gradient | Blue → Darker Blue | `#0A66C2 → #004182` |
| Card border (how-to) | Soft blue | `rgba(10, 102, 194, 0.15)` |
| Card background (how-to) | Light blue tint | `rgba(10, 102, 194, 0.04)` |

**Что окрашивается:**
- Заголовок CTA (текст с градиентом)
- How-to карточки: рамка и фоновый тинт
- Tab switcher: active tab accent
- Character counter: accent цвет в нормальном состоянии
- Иконки в how-to карточках (эмодзи остаются как есть)

#### 2.3.2. Threads-тема

**Палитра:**
| Элемент | Цвет | Код |
|---------|-------|-----|
| Accent primary | Black | `#000000` |
| Accent secondary | Dark Gray | `#333333` |
| Accent light | Light Gray | `#E5E5E5` |
| Gradient | Black → Dark Gray | `#000000 → #444444` |
| Card border (how-to) | Soft gray | `rgba(0, 0, 0, 0.12)` |
| Card background (how-to) | Light gray tint | `rgba(0, 0, 0, 0.03)` |

**Что окрашивается:**
- Те же элементы, что и для LinkedIn, но в Threads-палитре

#### 2.3.3. Переход между темами

- При переключении таба цвета **плавно** переходят (CSS `transition`)
- Длительность перехода: **300ms ease**
- Реализация через CSS custom properties + JS переключение класса на `<body>` или `:root`
- Два класса: `theme-linkedin` и `theme-threads`

**Технические изменения:**
- CSS: определить два набора CSS variables
- CSS: добавить `transition` на элементы, зависящие от accent color
- JS: при переключении таба менять класс на `<body>`
- HTML: начальный класс — `theme-threads` (т.к. Threads теперь первая)

#### 2.3.4. How-to карточки

**Текущее состояние:** 4 карточки с общим стилем, не зависящим от платформы.

**Требования V3:**
- Карточки визуально адаптируются к выбранной платформе
- **Контент** карточек остаётся платформо-независимым (текст про форматирование, разбивку и т.д.)
- Цвет рамки, фон и accent-элементы — динамические

---

### 2.4. Анимации

#### 2.4.1. Фоновые анимации с логотипами

**Стиль:** Subtle и минимальные.

**Требования:**
- На фоне страницы — полупрозрачные иконки LinkedIn и Threads
- Иконки медленно «плавают» (float animation)
- Opacity: **0.03–0.05** (едва заметны, не отвлекают)
- Количество: 5–8 иконок, расположенных случайно по фону
- Размер: 40–80px
- Скорость: очень медленная (15–30s на один цикл)
- Движение: мягкий drift (вверх-вниз, лево-право)
- `pointer-events: none` — не блокируют клики
- `z-index: 0` — за всем контентом
- Иконки соответствуют выбранной платформе: если Threads — только Threads иконки, если LinkedIn — только LinkedIn иконки
- Переход между набором иконок — при смене таба (fade out/in)

**Performance:**
- Использовать CSS-анимации (`@keyframes`), не JS
- `will-change: transform` для GPU-ускорения
- На mobile (<600px): **отключить** или уменьшить до 2–3 иконок
- `prefers-reduced-motion`: полностью отключить

#### 2.4.2. Анимации карточек how-to

**Требования:**
- При появлении (scroll into view): мягкий **fade-up** эффект
- Stagger: каждая следующая карточка появляется с задержкой 100ms
- При hover: мягкий **lift** (translate Y -4px + shadow increase)
- Transition: 200ms ease

**Реализация:**
- `IntersectionObserver` для scroll-triggered анимаций
- CSS `transition` для hover-эффектов
- CSS `@keyframes fadeUp` для появления

#### 2.4.3. Анимация переключения таба

**Текущее:** `fadeIn 0.25s ease`

**V3:** Оставить как есть, это уже работает хорошо. Возможно добавить мягкий **slide** в сторону при переключении (по желанию).

---

### 2.5. Privacy Policy и Legal Pages

**Реализация:** Footer ссылки + модальные окна.

#### 2.5.1. Footer

**Требования:**
- Добавить `<footer>` в конец страницы
- Содержимое:
  - © 2026 ThreadThis. All rights reserved.
  - Ссылки: Privacy Policy | Terms of Service | Contact
- Стиль: минималистичный, мелкий текст, приглушённый цвет
- Разделитель (тонкая линия) сверху
- Responsive: на mobile ссылки в столбик

#### 2.5.2. Модальные окна

**Требования:**
- При клике на ссылку — открывается модальное окно поверх страницы
- Overlay: полупрозрачный тёмный фон (`rgba(0,0,0,0.5)`)
- Модалка: белая карточка с заголовком и текстом
- Кнопка закрытия: крестик в правом верхнем углу
- Закрытие: по крестику, по клику на overlay, по Escape
- Scroll внутри модалки (контент может быть длинным)
- `body` overflow: hidden при открытой модалке
- Анимация: fade-in при открытии

#### 2.5.3. Контент legal-страниц

**Privacy Policy — ключевые пункты:**
- ThreadThis не собирает персональные данные
- Весь текст обрабатывается только в браузере (клиент-сайд)
- Никакие данные не отправляются на сервер
- Не используются cookies для трекинга
- Могут использоваться analytics (если будут добавлены позже — указать)

**Terms of Service — ключевые пункты:**
- Сервис предоставляется «as is»
- Пользователь несёт ответственность за свой контент
- ThreadThis не хранит и не передаёт тексты пользователей
- Право изменять условия

**Язык документов:** Английский (стандарт для legal).

---

## 3. Нефункциональные требования

### 3.1. Производительность
- Анимации: 60fps, только CSS transforms и opacity
- Фоновые иконки: чисто CSS, без JS-таймеров
- Модалки: ленивая инициализация (DOM создаётся при первом открытии)
- Никаких внешних зависимостей (всё inline/local)

### 3.2. Доступность
- `prefers-reduced-motion`: отключить все анимации
- Модалки: focus trap, `role="dialog"`, `aria-modal="true"`
- Footer ссылки: семантический `<footer>`, `<nav>`
- Контраст текста: соответствие WCAG 2.1 AA

### 3.3. Совместимость
- Chrome, Firefox, Safari, Edge (последние 2 версии)
- iOS Safari, Chrome Android
- Graceful degradation для старых браузеров (анимации просто не показываются)

### 3.4. Responsive
- Desktop (≥1024px): полная анимация, side-by-side layout
- Tablet (600–1024px): уменьшенные анимации, vertical layout
- Mobile (<600px): минимальные/отключённые фоновые анимации, вертикальный footer

---

## 4. Дизайн-спецификация

### 4.1. CSS Custom Properties (обновлённые)

```css
/* Themes - переключаемые через класс на body */

/* Threads Theme (default) */
.theme-threads {
  --accent-primary: #000000;
  --accent-secondary: #333333;
  --accent-light: #E5E5E5;
  --accent-gradient: linear-gradient(135deg, #000000, #444444);
  --howto-card-border: rgba(0, 0, 0, 0.12);
  --howto-card-bg: rgba(0, 0, 0, 0.03);
}

/* LinkedIn Theme */
.theme-linkedin {
  --accent-primary: #0A66C2;
  --accent-secondary: #004182;
  --accent-light: #D0E8FF;
  --accent-gradient: linear-gradient(135deg, #0A66C2, #004182);
  --howto-card-border: rgba(10, 102, 194, 0.15);
  --howto-card-bg: rgba(10, 102, 194, 0.04);
}
```

### 4.2. Градиентный текст (CTA заголовок)

```css
.cta-header h1 {
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  transition: background 300ms ease;
}
```

### 4.3. Фоновые иконки (структура)

```
<div class="bg-icons" aria-hidden="true">
  <i class="fa-brands fa-threads bg-icon" style="top: 10%; left: 5%;"></i>
  <i class="fa-brands fa-threads bg-icon" style="top: 40%; right: 8%;"></i>
  <!-- ... 5-8 иконок -->
</div>
```

---

## 5. Структура задач

| ID | Задача | Приоритет | Зависимости |
|----|--------|-----------|-------------|
| V3-1 | Переключить табы: Threads первая, LinkedIn вторая | P0 | — |
| V3-2 | Динамическая цветовая тема (CSS variables + JS switching) | P0 | V3-1 |
| V3-3 | Градиентный текст CTA заголовка | P1 | V3-2 |
| V3-4 | Стилизация how-to карточек (рамки, фон, hover) | P1 | V3-2 |
| V3-5 | Анимация появления how-to карточек (fade-up + stagger) | P1 | V3-4 |
| V3-6 | Фоновые floating-иконки (CSS анимация) | P1 | V3-2 |
| V3-7 | Footer с legal ссылками | P0 | — |
| V3-8 | Модальные окна для Privacy Policy / Terms | P0 | V3-7 |
| V3-9 | Контент Privacy Policy и Terms of Service | P0 | V3-8 |
| V3-10 | Favicon (техническая интеграция) | P1 | дизайн TBD |
| V3-11 | prefers-reduced-motion и accessibility | P1 | V3-5, V3-6 |
| V3-12 | Responsive адаптация всех новых элементов | P1 | V3-4, V3-6, V3-7 |

---

## 6. Критерии приёмки (Definition of Done)

- [ ] При загрузке страницы активна таба Threads
- [ ] При переключении между табами цветовая схема UI плавно меняется
- [ ] CTA заголовок отображается с градиентным текстом
- [ ] How-to карточки имеют рамку и фон в цветах текущей платформы
- [ ] How-to карточки анимируются при скролле (fade-up)
- [ ] На фоне видны полупрозрачные floating-иконки (subtle)
- [ ] Favicon отображается в табе браузера
- [ ] Footer содержит ссылки Privacy Policy и Terms of Service
- [ ] Модальные окна открываются/закрываются корректно
- [ ] При `prefers-reduced-motion` все анимации отключены
- [ ] Responsive работает на всех breakpoints
- [ ] Legal тексты написаны и корректны

---

## 7. Что НЕ входит в V3

- Тёмная тема / dark mode
- Серверная логика (всё остаётся клиент-сайд)
- Аналитика / трекинг
- Новые функции форматирования
- Изменения в логике thread splitting
- Мультиязычность UI

---

## 8. Риски и ограничения

| Риск | Влияние | Митигация |
|------|---------|-----------|
| Анимации тормозят на старых устройствах | Плохой UX | CSS-only анимации, `prefers-reduced-motion`, отключение на mobile |
| Градиентный текст не работает в старых браузерах | Визуальный глитч | Fallback на solid color через `@supports` |
| Legal тексты могут быть юридически неточными | Compliance risk | Стандартные шаблоны, дисклеймер «not legal advice» |
| Favicon дизайн не определён | Блокирует V3-10 | Решается отдельно, техническая реализация готова |
